{%load static%}


<!DOCTYPE html>
<html lang="en">
    
<head>
    <title>{%block title%}Hopeless Opus{%endblock%}</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  
  
  <link rel="stylesheet" href="{%static 'css/story.css'%}">
  <link rel="icon" type="image/ico" href="{%static 'img/acumen.png'%}" />
  <link rel="stylesheet" href="{%static 'fonts/fontawesome/css/all.css'%}">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-20G4VYS64E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-20G4VYS64E');
    </script>
    
    

    {%block other_css%}
    {%endblock%}
    {%block body_color%}
    <style>
      body {
margin: 0;
background-color: #081327;
          overflow: hidden auto;
}



/*canvas {
display: block;
vertical-align: bottom;
}*/


/* ---- particles.js container ---- */

#particles-js {
position: absolute;
width: 100%;
height: 100vh;
z-index: -1000;
background: linear-gradient(to bottom, rgba(22, 22, 22, 0.1) 0%, rgba(22, 22, 22, 0.5) 75%, #161616 100%),{% block bg %} url("/static/img/hogwarts-bg.jpg");{%endblock%}
background-position: center;
background-repeat: no-repeat;

background-size: cover;
}

h1{
color:rgb(14, 13, 13) ;
text-align:center;


}
  #margin_given{
  margin-left:40%;
}
@media screen and (max-width: 700px){
  #margin_given{
      margin-left:0%;}
}
.box{
  border-radius: 10px 10px;
  background: linear-gradient(to bottom right, #dedce8, #f9f9f9,#1111);
  opacity: 0.2;
  margin-bottom: 5%;
   
}
      p{
          opacity: 1 !important;
          color:rgb(24, 23, 23);
          padding: 9%;

      }
      .style-options p{
        height: 10%;
        border: 2px solid black;
        border-radius: 4px;
        background-color: #000000b9;
background-image: linear-gradient(147deg, #000000ab 0%, #434343c4 74%);        text-align: center;
        padding: 12%;
        color: white;
        -webkit-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75);
-moz-box-shadow:    7px 7px 5px 0px rgba(50, 50, 50, 0.75);
box-shadow:         7px 7px 5px 0px rgba(50, 50, 50, 0.75);
      }
      .style-question{
        background-color: rgb(235, 243, 243);
        cursor: pointer;
      }
      .style-question-apt{
        background-color: rgb(235, 243, 243);
        cursor: pointer;
        padding: 3%;
        font-size: 2rem;
        
      }
      .style-question:hover{
        -webkit-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75);
-moz-box-shadow:    7px 7px 5px 0px rgba(50, 50, 50, 0.75);
box-shadow:         7px 7px 5px 0px rgba(50, 50, 50, 0.75);
      }
      .style-question-apt:hover{
        -webkit-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75);
-moz-box-shadow:    7px 7px 5px 0px rgba(50, 50, 50, 0.75);
box-shadow:         7px 7px 5px 0px rgba(50, 50, 50, 0.75);
      }
      .style-options-1{
        height: 10%;
        border-width: 10px;
  border-style: solid;
  border-image: 
    linear-gradient(
      to bottom, 
      rgb(119, 29, 6), 
      rgba(0, 0, 0, 0)
    ) 1 100%;
    -webkit-box-shadow: 7px 7px 5px 0px rgba(50, 50, 50, 0.75);
-moz-box-shadow:    7px 7px 5px 0px rgba(50, 50, 50, 0.75);
box-shadow:         7px 7px 5px 0px rgba(50, 50, 50, 0.75);
        font-weight: bolder;
        background-color: #cfca9dcc;
        text-align: center;
        padding: 12%;
      }
      .style-options p:hover{
        background-color: burlywood;
      }
      .spacer{
          margin-top:70px;
      }
      .spacer2{
          margin-top:100px;
      }
      @media screen and (max-width: 700px){
          .spacer2{
              margin-top:20px;
          }
      }
      .form-style{
        background-color: #081327cc;
        margin-right: 65%;
        margin-top: 5%;
        border-radius: 4px;
        
      }
     .chatting:hover{
       opacity: 0.7;
cursor: pointer;     } 
  </style>
{%endblock%}
</head>

<body>
  <script>
    window.addEventListener( "pageshow", function ( event ) {
      var historyTraversal = event.persisted || 
                             ( typeof window.performance != "undefined" && 
                                  window.performance.navigation.type === 2 );
      if ( historyTraversal ) {
        // Handle page restore.
        window.location.reload();
      }
    });
    </script>
    
  
<div class="nav navbar navbar-expand-md bg-dark navbar-dark sticky-top">
  <!-- Brand -->
  <a class="navbar-brand" href="#" id="index">HOPELESS OPUS</a>

  {%if user.is_authenticated%}
  <a class="navbar-brand" >SCORE: {{user.userprofile.points}}</a>
  {%endif%}

  <!-- Toggler/collapsibe Button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Navbar links -->
<div class="collapse navbar-collapse " id="collapsibleNavbar" style="float:right;">
      <ul class="nav navbar-nav ml-auto navbar-left">
      <li class="nav-item">
        <a class="nav-link" data-toggle="modal" data-target="#Modalrules" >RULES</a>
      </li>
      <li class="nav-item" id="leaderboard">
        <a class="nav-link" data-toggle="modal" data-target="#Modalleaderboard" >LEADERBOARD</a>
      </li>
      
      {% if user.is_authenticated %}
      <li class="nav-item" id="profile">
        <a class="nav-link" data-toggle="modal" data-target="#Modalprofile" >PROFILE</a>
      </li>

      </ul>
     
      <ul class="nav navbar-nav navbar-right">
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-toggle="modal" data-target="#Modallogout" >LOGOUT</a>
        </li>
      </ul>

      {% else %}
      <li class="nav-item" id="profile">
        <a class="nav-link" href="{%url 'user:login'%}" >LOGIN</a>
      </li>


      {%endif%}
    <ul class="nav navbar-nav navbar-right">
      <a class="nav-link blink" data-toggle="modal" data-toggle="modal" data-target="#Modalevent" >OTHER EVENTS</a>
      <li class="nav-item">
        <a class="nav-link" data-toggle="modal" data-toggle="modal" data-target="#Modalcontact" >CONTACT US</a>
      </li>
      {%block summary%}
      <li>
        <a class="nav-link" data-toggle="modal" data-toggle="modal" data-target="#Modalsummary" >STORY SO FAR</a>
      </li>
      {%endblock%}
    </ul>
</div>
</div>
<div id="Modalcontact" class="modal fade" role="dialog"  data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header text-center">
            <h3 class="modal-title ml-auto">Contact</h3>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <br>
          </div>
          <div class="modal-body">
            <center>
                    <br />
                    <br />
                    <div class="table-responsive">
                      <table class="table table-striped table-bordered table-condensed">
                        <thead>
                          <tr>
                            <td>Name</td>
                            <td>Contact number</td>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <td>Omkar Masur</td>
                            <td>+91-9930147279</td>
                            </tr>
                            <tr>
                            <td>Anmol Malhotra</td>
                            <td>+919911519233</td>
                            </tr>

                            <tr>
                              <td colspan="2"><b>For Queries related to UserId, you may contact our CCs</b></td></tr>
                            <tr>
                              <td>Shaurya Sinha</td>
                              <td>+918757373564</td>
                            </tr>
                            <tr>
                              <td>Anupriya Singpuri</td>
                              <td>+919570164884</td>
                            </tr>
                           
                        </tbody>
                      </table>
                    </div>  
                  </center>

          </div>
        </div>
      </div>
</div>    

<div id="Modalevent" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header text-center">
           
              <h3 class="modal-title ml-auto">Other Events</h3>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            
          </div>
          <div class="modal-body">
            <center>
              <br />
              <br />
              <div class="table-responsive">
                <table class="table table-striped table-bordered table-condensed">
                  <thead>
                    <tr>
                      <td>NAME</td>
                      <td>URL</td>
                    </tr>
                  </thead>
                  <tbody>
                      <tr>
                      <td>ATR</td>
                      <td><a href="https://atr.techtatva.in" target="_blank">https://atr.techtatva.in</a></td>
                      </tr>
                      <tr>
                      <td>AIB</td>
                      <td><a href="https://aib.techtatva.in" target="_blank">https://aib.techtatva.in</a></td>
                      </tr>
                     
                  </tbody>
                </table>
              </div>  
            </center>
  
          </div>
        </div>
      </div>
</div>


<div id="Modalrules" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header text-center">
           
              <h3 class="modal-title ml-auto">Rules</h3>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            
          </div>
          <div class="modal-body">
            <ul>
            <li>THIS IS CHOICE DRIVEN GAME</li><br>
            <li>YOUR CHOICES DEFINE YOUR PATH WHICH DEFINE THE QUESTIONS</li><br>
            <li>THE GAME CONSISTS OF SEVERAL CHECKPOINTS SOME WITH 3 CHOICES WITH A DAILY CAP OF A CERTAIN QUESTIONS.</li>
            <br>
            <li>ON CHOOSING THE <b>"BEST"</b> OPTION YOU WILL GET <b>+7</b> POINTS</li>
            <br>
            <li>ON CHOOSING THE <b>"WORST"</b> ROUTE YOU WILL GET <b>+3</b> POINTS</li>    
            <br>
            <li>ON CHOOSING THE OPTION WHICH IS <b>"IN BETWEEN THE TWO"</b>, YOU WILL GET <b>+5</b> POINTS</li>
            <br>
            <li>SOME QUESTIONS HAVE OPTIONS WHICH WILL AWARD <b>0</b> POINTS NO MATTER WHICH OPTION YOU CHOOSE. THESE QUESTIONS ARE MEANT FOR MAINTAINING A FLOW IN THE STORY AND ALSO TO BALANCE POINTS AMONG PATHS</li>
            <li>POINTS ARE AWARDED ONCE YOU ANSWER THE APTITUDE QUESTIONS ASSOCIATED WITH THE STORY QUESTION, IF ANY</li>
            <br>
            <li>PLEASE UPDATE YOUR USER ID IN CASE YOU HAVEN'T. YOU CAN AVAIL PRIZES ONLY IF YOU HAVE A VALID USER ID. VALIDITY OF THE USER ID WILL BE CHECKED AT THE TIME OF DECLARATION OF WINNERS</li>
            <li>ANY DECISION TAKEN BY CC OR EVENT HEADS IS FINAL AND BINDING</li>
            </ul>
          </div>
        </div>
      </div>
</div>
<div id="Modallogout" class="modal fade" role="dialog" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header text-center">
            <h3 class="modal-title">Do you really want to leave this page?</h3>
            <br />
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-footer">
            <a href="{%url 'user:logout'%}"><button type="button" class="btn btn-default pull-left logy" >Yes</button></a>
            <button type="button" class="btn btn-default pull-right logn" data-dismiss="modal">No</button>
          </div>
        </div>
      </div>
</div>

<div id="Modalsummary" class="modal fade" role="dialog" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h3 class="modal-title">Story so far</h3>
        <br />
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        Harsh, a 17-year-old boy with a scar on his collarbone that is mystically shaped like an anchor, began his first year at MIT. He has a past from which he wants to move on, and a new city seems like a perfect opportunity. At MIT, he has made two friends – Ronak and Sara. The MIT, Manipal campus is stunning. The Fountain of Prognostication can have you staring at it for hours. On their first day, they had to attend the start of the term feast in food court 2, which followed an introductory program by the most powerful wizard of all time who is also the director of MIT – Professor Omkar. <br/> 
        {%if user.userprofile.story >= 21 %}
        One day, the three of them plan to explore the grand MIT library. The information they run into on their first visit is about a wizard and an alumnus of MIT, who, due to the bad experiences and tortures, reached out to dark magic for revenge, which ultimately got him expelled. His career was destroyed, and so was his pride. Since then, he had always considered all MITians as enemies. However, Yaksha has not been seen since the first wizarding battle.<br/>
        {%endif%}  
        {%if user.userprofile.story >= 31 %}
        Harsh, Ronak and Sara have become good friends with Bhakti, an ex-professor banned from performing magic. She is incredibly motherly and very kind. Their visit to Bhakti's cottage, one day, revealed information about Harsh's deceased parents. He found out that they had died fighting Yaksha. They also got to know about Yaksha's fear of death that led to him committing the ultimate evil act – creating the Aatmastras. <br/>
        {%endif%}

        {%if user.userprofile.story >= 37 %}
        Harsh has been feeling extremely distressed lately. He decides to talk to professor Omkar about it, who tells him all about his history. He finds out that Yaksha is his Grandfather, who cursed him (which explains the collarbone scar) only because he was born out of wedlock. Yaksha had also killed his parents. All this information gets a little overwhelming for Harsh. However, he decides that he needs to avenge his parent's death.  <br/>
        {%endif%}

        {%if user.userprofile.story >= 44 %}
        The three of them have begun their search of the Aatmastras, and they decide to start in the library. They made plans to sneak past the librarian and get inside the forbidden section. In the library, after searching for an entire night, they found information on a 'Crown of Manipal' in a suspicious book whose pages had been torn off. To find out more about the crown, they must dig deeper.  <br/>
        {%endif%}

        {%if user.userprofile.story >= 58 %}
        The next day, Sara spends all day in the library searching for information on the crown but in vain. However, she comes across an enchanted diary that writes back when someone writes in it. In a conversation with the journal, they find out more information about the crown. However, the diary is a powerful piece of dark magic, and hence they decide to destroy it. The destruction is not easy. Ronak chooses to prepare a potion that would take about a month to brew but will successfully destroy the diary. When the potion was finally ready, the diary was successfully destroyed. They later find out that they had destroyed an Aatmastra.  One down, three more to go…  <br/>
        {%endif%}
       
        {%if user.userprofile.story >= 72 %}
        Bhakti is shocked and wants to stop them from continuing the adventure any further, but it was too late. Instead, she decides to help them. She gives them a map to sneak out at night without getting caught by guards or professors. When they explored the map one night, they ended up in the trophy display room in AB1. One of the awards kept there belonged to Yaksha and was suspiciously fixed to its shelf with a spell's help. After getting rid of the spell and removing the award from the shelf, they decided to ask Bhakti who told them that the award was the first one that Yaksha had won at MIT. It was very close to his heart. It quite fitted the description of an object someone might choose to keep a part of their souls except for the fact that it was kept in plain sight. The primary purpose for that must have been to not draw attention to it, but destiny had other plans, and the award, i.e., another part of Yaksha's soul, was destroyed. And just like that, dark times returned…  <br/>
        {%endif%}

        {%if user.userprofile.story >= 81 %}
        Word has spread that Yaksha is trying to get back into power using the 'Elixir of Life,' which was being prepared by one of his followers. Aurors and the older wizards were shooting out spells to cast a protection charm, and preparations were going on at the Student Plaza. One night, the protection charm suddenly started to dissolve, and black hooded figures shouted out spells towards the Student Plaza.<br/>
        {%endif%}
      </div>
    </div>
  </div>
</div>  
<div id="Modalleaderboard" class="modal fade bd-example-modal-lg" role="dialog"  data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header text-center">
            <h3 class="modal-title ml-auto">Leaderboard</h3>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <br>
          </div>
          <div class="modal-body">

            <form id="searching_form">
              {%csrf_token%}
              <div class="form-group">
                  <label for="reg">Search with Registration Number / Name</label>
                  <input autocomplete="off" type="text" class="form-control" id="reg" name="reg">
              </div>
              <button class="btn btn-primary" type="submit" id="btn_search"><span id="form_spinner" class="d-none spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span><span id="form_status_text">Submit</span></button>
            </form>
            
            <div id="result_search" class="mt-1">
           
            </div>
            
            <center>
                    <div class="table-responsive mt-2">
                      <table class="table table-striped table-bordered table-condensed">
                        <thead>
                          <tr>
                            <td>RANK</td>
                            <td>USER ID</td>
                            <td>SCORE</td>
                          </tr>
                        </thead>
                        <tbody>
                          {%for topper in toppers%}
                          <tr>
                          <td>{{forloop.counter}}</td>
                          <td><a href="{%url 'profiles:index' topper.reg_number %}" target="_blank">{{topper.user.username}}</a></td>
                          <td>{{topper.points}}</td>
                         </tr>
                          {%endfor%}
                        </tbody>
                      </table>
                    </div>  
                  </center>
          </div>
        </div>
      </div>
</div>


<!-- Button trigger modal -->
  
  <!-- Modal -->
  <div class="modal fade" id="Modalprofile" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">{{user.first_name}}'s Profile</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="card" style="width: auto;">
                <img src="{%if user.userprofile.image.url == '/media/default.jpg'%}https://ui-avatars.com/api/?name={{user.first_name}} {{user.last_name}}{%else%}{{user.userprofile.image.url}}{%endif%}" class="card-img-top rounded-circle" alt="XYZ">
                <div class="card-body">
                  <h5 class="card-title"></h5>
                  <p class="card-text text-primary text-center">Points: {{user.userprofile.points}}</p>
                  <center><a href="{%url 'game:profile'%}" class="btn btn-primary">Update Profile</a></center>
                </div>
              </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>
  {%block particles%}
  <div id="particles-js"></div>
  {%endblock%}

{%block map%}
  <div class="chatting" id="chatting_id" style="z-index: 100000;">
    <div>
      <a  data-toggle="modal" data-target="#ChatModal" onclick="hidefunction()">
        <i class="fas fa-map-signs" style="color: rgb(161, 34, 25);"></i>
      </a>
    </div>
  </div>
{%endblock%}

  <div class="modal fade" id="ChatModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-left" id="xyz" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Map</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="showfunction()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
         
          <div class="container text-center">
            <iframe src="https://www.google.com/maps/d/u/1/embed?mid=1JA__xbqk8dWWGzj9rNPgobYhY5ornEVg" height="480"></iframe>

          </div>
        </div>
        <!-- <div class="modal-footer d-flex justify-content-center">
          <div>
            <form action="#0" id="user-input-form"> -->
              <!-- <input type="text" id="user-input" class="user-input" placeholder="Talk to the bot."> -->
              <!-- <div class="input-group">
                <textarea id="user-input" class="form-control" rows="3" placeholder="Talk to the Bot"></textarea>
                <span class="input-group-btn ml-1">
                  <button class="btn btn-primary" type="submit"><i class="fas fa-paper-plane"></i></button>
                </span>
               
              </div>
            </form>
          </div>
          
        </div> -->
      </div>
    </div>
  </div>

{%block content%}
{%endblock%}

</body>

    <!-- particles.js container --> 

<!-- particles.js lib - https://github.com/VincentGarreau/particles.js --> 
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    {%block background%}

    <script src="{%static 'background.js'%}"></script>
    {%endblock%}

  <script src="{%static 'jquery.js'%}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="{%static 'js/ajax_funs.js'%}"></script>
    <script src="{%static 'js/ajax_funs3.js'%}"></script>

    <script src="{%static 'js/jquery.fancybox.min.js'%}"></script>
 
{%block other_js%}
{%endblock%}

</html>
