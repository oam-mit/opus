{%load static%}
<title>ChatBot</title>
<link rel="stylesheet" href="{%static 'bot.css'%}">

<div class="chat-output" id="chat-output">
    <div class="user-message">
      <div class="message">Bot:Hi! I'm a bot. What's up?</div>
    </div>
  </div>
  
  <div class="chat-input">
    <form action="#0" id="user-input-form">
      <input type="text" id="user-input" class="user-input" placeholder="Talk to the bot.">
      <button type="submit">Send</button>
    </form>
  </div>

 <script src="{%static 'vendor/jquery/jquery-3.2.1.min.js'%}"></script>
  <script>
    var outputArea = $("#chat-output");

    $("#user-input-form").on("submit", function(e) {
      
      e.preventDefault();
      
      var message = $("#user-input").val();
      
      outputArea.append(`
        <div class='bot-message'>
          <div class='message'>
            You:  ${message}
          </div>
        </div>
      `);

      $.ajax({

        type:'GET',
        url:"{%url 'user:reply'%}",
        data:{
            'mes':message
        },
        success:function(response)
        {
            outputArea.append(`
          <div class='user-message'>
            <div class='message'>
              BOT:  ${response}
            </div>
          </div>
        `);

        }

    });
      
      $("#user-input").val("");
      
    });
  </script>